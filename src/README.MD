# Como rodar
> _Os c√≥digos e processos presentes neste readme possuem vers√£o para WINDOWS_
## O que ser√° necess√°rio

Para o funcionamento do nosso sistema, voc√™ precisara das seguintes tecnologias:

1. [Git](https://git-scm.com/downloads): Utilizaremos o Git para clonar o nosso reposit√≥rio.

2. [Python](https://www.python.org/downloads/): Precisaremos do python para podermos utilizar de maneira adequada o nosso ambiente virtual, inclu√≠mos ele no arquivo requirements, por√©m sinta-se a vontade caso queira ter uma garantia baixando o python por si s√≥.

3. [Docker](https://docs.docker.com/get-docker/): Usaremos o Docker para rodar os containers que cont√©m apenas as imagens que usaremos na aplica√ß√£o, tornando o processo mais leve. Se seu SO for Windows baixe o Docker Desktop para que possa executar o programa, caso seja Linux ou macOS, voc√™ pode optar por baixa-lo no terminal ou baixar o Docker Desktop para estes respectivos Sistemas Operacionais.


## 1¬∫ Passo: Clonando o reposit√≥rio

<details>
  <summary><b>Clique aqui</b></summary>

  Para clonar o projeto e utiliz√°-lo em seu computador, siga os seguintes passos:
  
  1. Crie uma pasta onde deseja armazenar nosso projeto, e ent√£o abra-a e clique na url da pasta, ou ent√£o utilize o atalho `Ctrl+L` para selecionar a url, como demonstrado no exemplo abaixo üëá<br> <img src="https://cdn.discordapp.com/attachments/1217604924402303037/1227225379429810258/imagem_2024-04-09_085515681.png?ex=6627a1b3&is=66152cb3&hm=28b47e4a797002509bbf01d3ee8777bf3f4ce11a03a77eeadab62122c38f1b24&">
  
  > _Obs.: Caso voc√™ esteja no LINUX, a parte de escrever "cmd" n√£o ir√° funcionar, ent√£o clique com o bot√£o direito na pasta que voc√™ criou e selecione a op√ß√£o "Abrir no terminal"_

  Um prompt de comando ir√° se abrir, e ent√£o execute o comando abaixo:
  
  ```
  git clone https://github.com/CyberScrums/Projeto-Smart-Farming.git
  ``` 

</details>
<br>

## 2¬∫ Passo: Iniciando o ambiente virtual

<details>
  <summary><b>Clique aqui</b></summary>

  1. Ap√≥s a clonagem, clique com o bot√£o direito na pasta e selecione a op√ß√£o de abrir com o Terminal, e insira os seguintes comandos :

  ```
  python -m venv venv
  venv\Scripts\activate
  pip install -r requirements.txt (lembre-se de dar primeiro "cd Projeto-Smart-Farm" e em seguida dar "cd src" para entrar na pasta e dar o comando)
  ```

  > _Caso voc√™ esteja em LINUX, digite os comandos desta maneira:_<br>
  `python3 -m venv venv`<br>
  `source venv/bin/activate`<br>
  `pip install -r requirements.txt` (lembre-se de dar "cd src" para entrar na pasta e dar o comando)

</details>
<br>

## 3¬∫ Passo: Configurando Banco de Dados

<details>
  <summary><b>Cliqui aqui</b></summary>


  1. Primeiramente, no seu MySQL Workbench selecione a op√ß√£o de abrir o Script bdAPI.sql (localizado na pasta SQL dentro de "Gerador de Banco de Dados") e Execute para criar o Banco de Dados, selecionando uma figura de Trov√£o que √© responsavel por rodar todo o script.
  2. Antes de inicializar a aplica√ß√£o verifique se as cred√™nciais de acesso, dispon√≠veis dentro da pasta "src" no arquivo app.py, est√£o de acordo com as defini√ß√µes da sua inst√¢ncia MySQL.

  ```
  DB_HOST="db" #MANTER O NOME DO HOST 
  DB_USER="usu√°rio" #NOME DO USU√ÅRIO PADR√ÉO DO MYSQL 
  DB_PASSWORD="senha" #ALTERAR PARA A SUA SENHA DO MYSQL
  DB_NAME="dadosestufa" #MANTER O NOME DO DATABASE
  ```

  3. Caso algum problema ocorra durante a inicializa√ß√£o do flask, ou a seguinte depend√™ncia n√£o sejam reconhecida "mysql-connector", instale da seguinte forma:
  
  ```
  python3 -m pip install mysql-connector-python==8.4.0
  ```
  
  </details>
  <br>

## 4¬∫ Passo: Abrindo a aplica√ß√£o web

<details>
  <summary><b>Clique aqui</b></summary>

  1. Ainda dentro do ambiente virtual e dentro da pasta src, execute o seguinte comando:
  ```
  flask run
  ```

  2. Por fim, entre no link que aparecer√° no cmd copiando e colando ele no seu navegador de prefer√™ncia, ou ent√£o simplesmente clique aqui: <a href="http://127.0.0.1:5000">http://127.0.0.1:5000</a>

  3. Ap√≥s finalizar o uso do nosso site, para sair do ambiente virtual, no terminal, execute o atalho `Ctrl+C` para finalizar o servi√ßo do Flask, e ent√£o execute o seguinte comando:
  ```
  deactivate
  ```

</details>
<br>

## 5¬∫ Passo: Utilizando o Docker para abrir a aplica√ß√£o

<details>
  <summary><b>Clique aqui</b></summary>
  
  > _Com o Docker √© poss√≠vel fazer sua aplica√ß√£o rodar em qualquer m√°quina, sendo usado apenas o Dockerfile e o Docker-compose.yml, por isso est√° a op√ß√£o mais recomendada para seu projeto._

  1. Acesse o terminal no diret√≥rio onde se encontra os arquivos Dockerfile e Dockercompose (diret√≥rio SRC)

  2. Digite o comando para iniciar o container-docker
   ```
   docker-compose up --build
   ```
  
  3. Depois de um tempo dado para inicializa√ß√£o do conteiner, ir√° aparecer no terminal uma mensagem avisando que ele est√° rodando. Ap√≥s isto, basta escrever na busca do seu navegador o seguinte comando
   ```
   localhost:5001/
   ```

  4. Ap√≥s usar a aplica√ß√£o basta fechar o container-docker executando o seguinte comando no terminal
   ```
   Ctrl + C
   ```

</details>
<br>

‚Üí [Voltar ao topo](#topo)
